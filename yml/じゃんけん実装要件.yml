version: "1"
title: "桜滴おはな公式サイト ミニゲーム&じゃんけんページ追加用プロンプト"
files:
  - path: "index.html"
    instructions: |
      # ゴール（index.html）
      既存の桜滴おはな公式サイトのトップページ（index.html）に、
      **「ミニゲーム」セクションを1つ追加**してください。

      - じゃんけんは **別ページ（janken.html）** に実装し、
        index.html 側のミニゲームセクションからリンクで飛ぶ構造にします。
      - 既存のレイアウト・カラー・フォント・世界観を崩さないこと。
      - サイトのファイルはローカルにある前提なので、
        既存 HTML/CSS をそのまま流用する形で OK です（外部URL参照は不要）。

      ## ミニゲームセクションの仕様

      - 既存セクションと同じような見た目/余白/カード感を持つ `<section>` を1つ追加する。
        - 例: `<section id="minigame" class="section section-minigame">` のような感じ。
      - 見出し:
        - 例: 「ミニゲーム」「おはなと遊ぶ」など、世界観に合う日本語タイトル。
      - 説明文:
        - 例: 「おはなちゃんと遊べるミニゲームコーナーです。」のような短いテキスト。
      - じゃんけんページへのリンクボタンを配置する。
        - 例:
          ```html
          <a href="janken.html" class="minigame-button">
            じゃんけんで遊ぶ
          </a>
          ```
      - ボタンのデザイン:
        - 既存サイトで使用しているボタンやリンクのスタイルを参考にする。
        - なければ、以下のような雰囲気で作成:
          - 丸みのある角 (`border-radius`)
          - 少し大きめのパディングでタップしやすく
          - ホバー時に明度が少し変わる

      ## レイアウト上の注意
      - ミニゲームセクションを挿入する位置は、既存セクションの流れを見て自然な場所に配置。
        - 例: プロフィール/コンテンツ紹介の後ろあたりに入れるなど。
      - PC/スマホどちらでも違和感ないように、他のセクションと同じコンテナ幅・余白を使うこと。

      ## コードの扱い
      - 既存 index.html の構造・クラス名は極力変更しない。
      - 追加する CSS は、既存の CSS に追記するか、`<style>` タグ内に補足として記載してよい。
      - JavaScript は不要（index.html 側ではリンクのみ）。

  - path: "janken.html"
    instructions: |
      # ゴール（janken.html）
      index.html の「ミニゲーム」セクションから遷移してくる、
      **じゃんけん専用ページ（janken.html）** を作成してください。

      - サイト全体の雰囲気（背景色・フォント・ヘッダー・フッターなど）は
        index.html と揃える。
      - 単独ページとして完結する HTML（ヘッダー〜フッター）を生成する。

      ## ページ構成

      - HTML5 基本構造:
        - `<!DOCTYPE html>`
        - `<html lang="ja">`
        - `<meta charset="UTF-8">`
        - など、通常のセットを記述。
      - ヘッダー:
        - サイトタイトル・ロゴ等は index.html と似た構成。
        - 可能であれば「トップに戻る」リンク（`index.html` へ戻る）を設置。
          - 例: `<a href="index.html" class="back-link">トップページに戻る</a>`
      - メインコンテンツ:
        - タイトル: 「ミニゲーム」「おはなとじゃんけん」「じゃんけんミニゲーム」など。
        - 簡単な説明文。
        - じゃんけん用の画像表示エリア。
        - 手の選択ボタン（グー/チョキ/パー）。
        - 結果表示エリア。
        - 「もう一回」ボタン。
      - フッター:
        - 必要に応じて index.html と同様のフッター。

      ## 画像の仕様

      `img` フォルダに以下のファイルがある前提でパスを記述してください。
      拡張子は `.png` 前提で書きますが、**コメントで拡張子変更可能な旨を残す**こと。

      - 初期表示用: `img/jstart.png`
      - グー選択時: `img/gu-.png`
      - チョキ選択時: `img/choki.png`
      - パー選択時: `img/pa-.png`
      - 終了表示用: `img/jend.png`

      例（メイン画像）:
      ```html
      <!-- 必要に応じて .png 以外の拡張子に変更してください -->
      <img id="janken-main-image" src="img/jstart.png" alt="じゃんけんスタート" />
      ```

      ### 画像切り替えの流れ

      1. **初期状態**
         - ページ読み込み時、または「もう一回」押下時:
           - `jstart` を表示。
           - テキスト: 「最初はグー！」など。

      2. **手の選択時**
         - プレイヤーがグー/チョキ/パーのいずれかを押したら:
           - メイン画像を対応する画像に変更
             - `gu-` / `choki` / `pa-`
           - 同時にコンピュータ（おはな）の手をランダム決定。
           - プレイヤーの手 & コンピュータの手をテキストで表示。

      3. **結果表示**
         - 勝ち/負け/あいこ を判定してテキスト表示。
         - 結果確定後に、メイン画像を `jend` に変更。
         - 「もう一回」押下で初期状態に戻す。

      メイン画像以外に、必要であればプレイヤーの手・CPUの手を小さめのサブ画像で表示しても構いません。

      ## じゃんけんロジック（JavaScript）

      - ライブラリは使わず、素の JavaScript で実装する。
      - プレイヤーの入力:
        - ボタンに `data-hand` を持たせる。
        - 例:
          ```html
          <button class="hand-button" data-hand="gu">グー</button>
          <button class="hand-button" data-hand="choki">チョキ</button>
          <button class="hand-button" data-hand="pa">パー</button>
          ```
      - CPU の手:
        - `const hands = ["gu", "choki", "pa"];`
        - `const cpuHand = hands[Math.floor(Math.random() * hands.length)];`
      - 画像マップ:
        ```js
        const imageMap = {
          ready: "img/jstart.png", // 初期画像
          end: "img/jend.png",     // 結果画像
          gu: "img/gu-.png",
          choki: "img/choki.png",
          pa: "img/pa-.png",
        };
        // ※ 必要に応じて拡張子を変更してください
        ```
      - 要素参照例:
        ```js
        const mainImage   = document.getElementById("janken-main-image");
        const resultText  = document.getElementById("janken-result-text");
        const detailText  = document.getElementById("janken-detail-text"); // 「あなた: グー / おはな: パー」など
        const resetButton = document.getElementById("janken-reset");
        ```
      - 判定関数例:
        ```js
        function judge(player, cpu) {
          if (player === cpu) return "draw";
          if (
            (player === "gu"    && cpu === "choki") ||
            (player === "choki" && cpu === "pa")    ||
            (player === "pa"    && cpu === "gu")
          ) {
            return "win";
          }
          return "lose";
        }
        ```
      - `playJanken(playerHand)` 関数で:
        1. CPU 手を決定
        2. メイン画像をプレイヤーの手の画像に変更
        3. 判定し、テキスト更新
        4. 最後にメイン画像を `jend` に変更（もしくは少し時間差をつけてもよい）

      - `resetJanken()` 関数で:
        - メイン画像を `imageMap.ready` に戻す
        - テキストを初期状態にクリア

      これらを `<script>` タグ内に記述してください。

      ## 音声（後から追加しやすい構造）

      ユーザーは現在、音源を持っていませんが、後から簡単に差し替えられるようにします。

      - janken.html 内に `<audio>` タグをプレースホルダとして用意:
        ```html
        <!-- 後で音源を設定する想定 -->
        <audio id="se-start"  src="" preload="auto"></audio>
        <audio id="se-click"  src="" preload="auto"></audio>
        <audio id="se-result" src="" preload="auto"></audio>
        ```
      - JavaScript 側にヘルパー関数:
        ```js
        function playSound(id) {
          const audio = document.getElementById(id);
          if (audio && audio.src) {
            audio.currentTime = 0;
            audio.play().catch(() => {
              // 自動再生制限等で失敗した場合は何もしない
            });
          }
        }
        ```
      - 以下のタイミングで呼び出せるようにしておく（今は src が空なので無音のまま）:
        - ゲーム開始/リセット時: `playSound("se-start");`
        - 手をクリックしたとき: `playSound("se-click");`
        - 結果表示時: `playSound("se-result");`

      ## デザイン（CSS）

      - 背景・フォント:
        - index.html と同じイメージ。必要であれば同じ Google Fonts を `<link>` で読み込む。
      - レイアウト:
        - 中央寄せのコンテンツ幅（最大幅 800〜1000px 程度）に収める。
        - カード風のコンテナでじゃんけん部分を囲う。
      - 画像:
        - `max-width: 300px; width: 100%; height: auto; margin: 0 auto;` のようにレスポンシブ対応。
      - ボタン:
        - 丸みのある角 + 余白多め。
        - hover 時に少し明るくなる or 影をつける。

      ## 注意点

      - すべて日本語コメントで、どこを変更すれば画像・音声パスを差し替えられるか分かるように。
      - ライブラリ（jQuery 等）は使わない。
      - コードはこの janken.html の中だけで完結するように記述してください。
